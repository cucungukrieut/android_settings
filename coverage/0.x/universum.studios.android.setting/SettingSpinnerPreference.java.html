<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>SettingSpinnerPreference.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">debugAndroidTest</a> &gt; <a href="index.source.html" class="el_package">universum.studios.android.setting</a> &gt; <span class="el_source">SettingSpinnerPreference.java</span></div><h1>SettingSpinnerPreference.java</h1><pre class="source lang-java linenums">/*
 * =================================================================================================
 *                             Copyright (C) 2017 Universum Studios
 * =================================================================================================
 *         Licensed under the Apache License, Version 2.0 or later (further &quot;License&quot; only).
 * -------------------------------------------------------------------------------------------------
 * You may use this file only in compliance with the License. More details and copy of this License 
 * you may obtain at
 * 
 * 		http://www.apache.org/licenses/LICENSE-2.0
 * 
 * You can redistribute, modify or publish any part of the code written within this file but as it 
 * is described in the License, the software distributed under the License is distributed on an 
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES or CONDITIONS OF ANY KIND.
 * 
 * See the License for the specific language governing permissions and limitations under the License.
 * =================================================================================================
 */
package universum.studios.android.setting;

import android.annotation.TargetApi;
import android.content.Context;
import android.content.res.TypedArray;
import android.os.Build;
import android.support.annotation.ArrayRes;
import android.support.annotation.AttrRes;
import android.support.annotation.LayoutRes;
import android.support.annotation.NonNull;
import android.support.annotation.Nullable;
import android.support.annotation.StyleRes;
import android.text.TextUtils;
import android.util.AttributeSet;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.Spinner;
import android.widget.TextView;

import java.util.Arrays;
import java.util.Collections;

import universum.studios.android.widget.adapter.SimpleSpinnerAdapter;
import universum.studios.android.widget.adapter.holder.ViewHolder;

/**
 * A {@link SettingPreference} implementation that provides {@link Spinner} widget with its related
 * functionality. Entries that should be available for selection as drop down items of the Spinner
 * widget may be specified via {@link #setEntries(CharSequence[])} along with theirs corresponding
 * entry values that should be specified via {@link #setEntryValues(CharSequence[])}
 * &lt;p&gt;
 * This preference implementation by default displays a single {@link Spinner} widget with a primary
 * view containing title text of the preference and summary text which corresponds to the current
 * selected entry value. The preferred entry value may be specified via {@link #setValue(String)} and
 * obtained via {@link #getValue()}.
 *
 * &lt;h3&gt;Default value&lt;/h3&gt;
 * Default value for this preference is parsed as {@link String} which should contain a single entry
 * value that should be by default selected. See {@link TypedArray#getString(int)}.
 *
 * &lt;h3&gt;Xml attributes&lt;/h3&gt;
 * See {@link SettingPreference},
 * {@link R.styleable#Ui_Settings_SpinnerPreference SettingSpinnerPreference Attributes}
 *
 * &lt;h3&gt;Default style attribute&lt;/h3&gt;
 * {@link R.attr#uiSettingSpinnerPreferenceStyle uiSettingSpinnerPreferenceStyle}
 *
 * @author Martin Albedinsky
 */
public class SettingSpinnerPreference extends SettingPreference {

	/*
	 * Constants ===================================================================================
	 */

	/**
	 * Log TAG.
	 */
	// private static final String TAG = &quot;SettingSpinnerPreference&quot;;

	/*
	 * Interface ===================================================================================
	 */

	/*
	 * Static members ==============================================================================
	 */

	/*
	 * Members =====================================================================================
	 */

	/**
	 * Listener that is used to receive callbacks about changes in selection within the Spinner widget
	 * of this preference.
	 */
<span class="nc" id="L96">	private final AdapterView.OnItemSelectedListener LISTENER = new AdapterView.OnItemSelectedListener() {</span>

		/**
		 */
		@Override
		public void onItemSelected(@NonNull final AdapterView&lt;?&gt; parent, @NonNull final View view, final int position, final long id) {
<span class="nc" id="L102">			setValueIndex(position);</span>
<span class="nc" id="L103">		}</span>

		/**
		 */
		@Override
		public void onNothingSelected(@NonNull final AdapterView&lt;?&gt; parent) {
			// Ignored.
<span class="nc" id="L110">		}</span>
	};

	/**
	 * Array containing entries that are displayed as items in the {@link Spinner} widget.
	 */
	private CharSequence[] mEntries;

	/**
	 * Array containing values where each value is associated with one entry item. Value for the
	 * associated selected entry is persisted in the preferences.
	 */
	private CharSequence[] mEntryValues;

	/**
	 * Boolean flag indicating whether the selected value for this preference has been set or not.
	 * This flag is used to handle case when the same value is being specified for this preference,
	 * but for the first time, to properly refresh view of this preference and notify listeners about
	 * the change.
	 */
	private boolean mValueSet;

	/**
	 * Current selected value specified for this preference. This may be either value specified by
	 * the user, default value or persisted value.
	 */
	private String mValue;

	/**
	 * Adapter used for the {@link Spinner} widget of this preference to provide views for entries
	 * specified via {@link #setEntries(CharSequence[])}.
	 */
	private EntriesAdapter mAdapter;

	/**
	 * Spinner widget of this preference.
	 *
	 * @see #onBindView(View)
	 * @see #onPrepareForRemoval()
	 */
	private Spinner mSpinner;

	/*
	 * Constructors ================================================================================
	 */

	/**
	 * Same as {@link #SettingSpinnerPreference(Context, AttributeSet)} without attributes.
	 */
	public SettingSpinnerPreference(@NonNull final Context context) {
<span class="nc" id="L160">		this(context, null);</span>
<span class="nc" id="L161">	}</span>

	/**
	 * Same as {@link #SettingSpinnerPreference(Context, AttributeSet, int)} with
	 * {@link R.attr#uiSettingSpinnerPreferenceStyle} as attribute for default style.
	 */
	public SettingSpinnerPreference(@NonNull final Context context, @Nullable final AttributeSet attrs) {
<span class="nc" id="L168">		this(context, attrs, R.attr.uiSettingSpinnerPreferenceStyle);</span>
<span class="nc" id="L169">	}</span>

	/**
	 * Same as {@link #SettingSpinnerPreference(Context, AttributeSet, int, int)} with {@code 0}
	 * as default style.
	 */
	public SettingSpinnerPreference(@NonNull final Context context, @Nullable final AttributeSet attrs, @AttrRes final int defStyleAttr) {
<span class="nc" id="L176">		super(context, attrs, defStyleAttr);</span>
<span class="nc" id="L177">		this.init(context, attrs, defStyleAttr, 0);</span>
<span class="nc" id="L178">	}</span>

	/**
	 * Creates a new instance of SettingSpinnerPreference for the given &lt;var&gt;context&lt;/var&gt;.
	 *
	 * @param context      Context in which will be the new setting preference presented.
	 * @param attrs        Set of Xml attributes used to configure the new instance of this preference.
	 * @param defStyleAttr An attribute which contains a reference to a default style resource for
	 *                     this preference within a theme of the given context.
	 * @param defStyleRes  Resource id of the default style for the new preference.
	 */
	@TargetApi(Build.VERSION_CODES.LOLLIPOP)
	public SettingSpinnerPreference(@NonNull final Context context, @Nullable final AttributeSet attrs, @AttrRes final int defStyleAttr, @StyleRes final int defStyleRes) {
<span class="nc" id="L191">		super(context, attrs, defStyleAttr, defStyleRes);</span>
<span class="nc" id="L192">		this.init(context, attrs, defStyleAttr, defStyleRes);</span>
<span class="nc" id="L193">	}</span>

	/*
	 * Methods =====================================================================================
	 */

	/**
	 * Called from one of constructors of this setting preference to perform its initialization.
	 * &lt;p&gt;
	 * Initialization is done via parsing of the specified &lt;var&gt;attrs&lt;/var&gt; set and obtaining for
	 * this preference specific data from it that can be used to configure this new preference instance.
	 * The specified &lt;var&gt;defStyleAttr&lt;/var&gt; and &lt;var&gt;defStyleRes&lt;/var&gt; are used to obtain default
	 * data from the current theme provided by the specified &lt;var&gt;context&lt;/var&gt;.
	 */
	private void init(final Context context, final AttributeSet attrs, final int defStyleAttr, final int defStyleRes) {
<span class="nc" id="L208">		this.mAdapter = new EntriesAdapter(context);</span>
<span class="nc" id="L209">		this.mAdapter.setTitle(getTitle());</span>
<span class="nc" id="L210">		final TypedArray attributes = context.obtainStyledAttributes(attrs, R.styleable.Ui_Settings_SpinnerPreference, defStyleAttr, defStyleRes);</span>
<span class="nc bnc" id="L211" title="All 2 branches missed.">		for (int i = 0; i &lt; attributes.getIndexCount(); i++) {</span>
<span class="nc" id="L212">			final int index = attributes.getIndex(i);</span>
<span class="nc bnc" id="L213" title="All 2 branches missed.">			if (index == R.styleable.Ui_Settings_SpinnerPreference_android_entries) {</span>
<span class="nc" id="L214">				setEntries(attributes.getTextArray(index));</span>
<span class="nc bnc" id="L215" title="All 2 branches missed.">			} else if (index == R.styleable.Ui_Settings_SpinnerPreference_android_entryValues) {</span>
<span class="nc" id="L216">				setEntryValues(attributes.getTextArray(index));</span>
<span class="nc bnc" id="L217" title="All 2 branches missed.">			} else if (index == R.styleable.Ui_Settings_SpinnerPreference_uiSettingSpinnerViewLayout) {</span>
<span class="nc" id="L218">				mAdapter.setViewLayoutResource(attributes.getResourceId(index, R.layout.ui_setting_spinner_view));</span>
<span class="nc bnc" id="L219" title="All 2 branches missed.">			} else if (index == R.styleable.Ui_Settings_SpinnerPreference_uiSettingSpinnerDropDownViewLayout) {</span>
<span class="nc" id="L220">				mAdapter.setDropDownViewLayoutResource(attributes.getResourceId(index, R.layout.ui_setting_spinner_drop_down_view));</span>
			}
		}
<span class="nc" id="L223">		attributes.recycle();</span>
<span class="nc" id="L224">	}</span>

	/**
	 */
	@Override
	public void setTitle(CharSequence title) {
<span class="nc" id="L230">		super.setTitle(title);</span>
<span class="nc" id="L231">		mAdapter.setTitle(title);</span>
<span class="nc" id="L232">	}</span>

	/**
	 * Same as {@link #setEntries(CharSequence[])} for resource id.
	 *
	 * @param resId Resource id of the desired text array with entries.
	 */
	public void setEntries(@ArrayRes final int resId) {
<span class="nc" id="L240">		setEntries(getContext().getResources().getTextArray(resId));</span>
<span class="nc" id="L241">	}</span>

	/**
	 * Specifies an array of entries that should be displayed in the {@link Spinner} widget of
	 * this preference.
	 *
	 * @param entries The desired array of entries. May be {@code null} to clear the current ones.
	 * @see android.R.attr#entries
	 * @see #setEntryValues(CharSequence[])
	 */
	public void setEntries(@Nullable final CharSequence[] entries) {
<span class="nc" id="L252">		this.mEntries = entries;</span>
<span class="nc bnc" id="L253" title="All 2 branches missed.">		if (entries == null) {</span>
<span class="nc" id="L254">			this.mAdapter.changeItems(Collections.&lt;CharSequence&gt;emptyList());</span>
		} else {
<span class="nc" id="L256">			this.mAdapter.changeItems(Arrays.asList(entries));</span>
		}
<span class="nc" id="L258">	}</span>

	/**
	 * Returns the array of entries specified for this preference.
	 *
	 * @return Array with entries. May be {@code null} if no entries have been specified.
	 * @see #setEntries(CharSequence[])
	 * @see #getEntryValues()
	 */
	@Nullable
	public CharSequence[] getEntries() {
<span class="nc" id="L269">		return mEntries;</span>
	}

	/**
	 * Same as {@link #setEntryValues(CharSequence[])} for resource id.
	 *
	 * @param resId Resource id of the desired text array with values for entries.
	 */
	public void setEntryValues(@ArrayRes final int resId) {
<span class="nc" id="L278">		setEntryValues(getContext().getResources().getTextArray(resId));</span>
<span class="nc" id="L279">	}</span>

	/**
	 * Specifies an array of entry values where each value should be associated with corresponding
	 * entry from the entries array specified via {@link #setEntries(CharSequence[])}.
	 * &lt;p&gt;
	 * &lt;b&gt;Note&lt;/b&gt;, that this method does not check if the entries and entry values arrays are
	 * consistent, that is that they are equal in length.
	 *
	 * @param entryValues The desired array of values associated with entries. May be {@code null}
	 *                    to clear the current ones.
	 * @see android.R.attr#entryValues
	 */
	public void setEntryValues(@Nullable final CharSequence[] entryValues) {
<span class="nc" id="L293">		this.mEntryValues = entryValues;</span>
<span class="nc" id="L294">	}</span>

	/**
	 * Returns the array of entry values associated with the entries specified for this preference.
	 *
	 * @return Array with entry values. May be {@code null} if no entry values have been specified.
	 * @see #setEntryValues(CharSequence[])
	 * @see #getEntries()
	 */
	@Nullable
	public CharSequence[] getEntryValues() {
<span class="nc" id="L305">		return mEntryValues;</span>
	}

	/**
	 */
	@Override
	protected Object onGetDefaultValue(@NonNull final TypedArray attributes, final int index) {
<span class="nc" id="L312">		return attributes.getString(index);</span>
	}

	/**
	 */
	@Override
	protected void onSetInitialValue(final boolean restorePersistedValue, @Nullable final Object defaultValue) {
<span class="nc bnc" id="L319" title="All 2 branches missed.">		setValue(restorePersistedValue ? getPersistedString(mValue) : (String) defaultValue);</span>
<span class="nc" id="L320">	}</span>

	/**
	 * Sets an index of the entry value that should be selected.
	 *
	 * @param index Index of the desired entry value to be selected.
	 * @see #getValueIndex()
	 * @see #setValue(String)
	 */
	void setValueIndex(final int index) {
<span class="nc bnc" id="L330" title="All 4 branches missed.">		if (mEntryValues != null &amp;&amp; index &lt; mEntryValues.length) {</span>
<span class="nc" id="L331">			setValue(mEntryValues[index].toString());</span>
		}
<span class="nc" id="L333">	}</span>

	/**
	 * Returns the index of the current selected value.
	 *
	 * @return Index of the selected value or {@link EntriesAdapter#NO_POSITION} if no value is selected
	 * or there are not entry values specified yet.
	 * @see #setValueIndex(int)
	 * @see #getValue()
	 */
	private int getValueIndex() {
<span class="nc bnc" id="L344" title="All 6 branches missed.">		if (TextUtils.isEmpty(mValue) || mEntryValues == null || mEntryValues.length == 0) {</span>
<span class="nc" id="L345">			return EntriesAdapter.NO_POSITION;</span>
		}
<span class="nc bnc" id="L347" title="All 2 branches missed.">		for (int i = 0; i &lt; mEntryValues.length; i++) {</span>
<span class="nc bnc" id="L348" title="All 2 branches missed.">			if (TextUtils.equals(mValue, mEntryValues[i])) return i;</span>
		}
<span class="nc" id="L350">		return EntriesAdapter.NO_POSITION;</span>
	}

	/**
	 * Sets a preferred entry value for this preference.
	 * &lt;p&gt;
	 * If value of this preference changes, it is persisted and the change listener is notified
	 * about the change.
	 *
	 * @param value The preferred entry value to be persisted.
	 * @see #getValue()
	 */
	public void setValue(@Nullable final String value) {
<span class="nc bnc" id="L363" title="All 2 branches missed.">		final boolean changed = !TextUtils.equals(mValue, value);</span>
<span class="nc bnc" id="L364" title="All 6 branches missed.">		if (callChangeListener(value) &amp;&amp; (changed || !mValueSet)) {</span>
<span class="nc" id="L365">			this.mValue = value;</span>
<span class="nc" id="L366">			this.mValueSet = true;</span>
<span class="nc" id="L367">			persistString(mValue);</span>
<span class="nc bnc" id="L368" title="All 2 branches missed.">			if (changed) {</span>
<span class="nc" id="L369">				notifyChanged();</span>
			}
		}
<span class="nc" id="L372">	}</span>

	/**
	 * Returns the preferred entry value of this preference.
	 *
	 * @return Entry value either specified by the user, as default value or the persisted one.
	 * @see #setValue(String)
	 */
	@Nullable
	public String getValue() {
<span class="nc" id="L382">		return mValue;</span>
	}

	/**
	 */
	@Override
	public void onBindView(@NonNull final View view) {
<span class="nc" id="L389">		super.onBindView(view);</span>
<span class="nc" id="L390">		final Spinner spinner = (Spinner) view.findViewById(R.id.ui_setting_spinner);</span>
<span class="nc bnc" id="L391" title="All 2 branches missed.">		if (spinner != null) {</span>
<span class="nc" id="L392">			spinner.setOnItemSelectedListener(null);</span>
<span class="nc" id="L393">			spinner.setAdapter(mAdapter);</span>
<span class="nc" id="L394">			final int valueIndex = getValueIndex();</span>
<span class="nc bnc" id="L395" title="All 2 branches missed.">			if (valueIndex != EntriesAdapter.NO_POSITION) {</span>
<span class="nc" id="L396">				spinner.setSelection(valueIndex, false);</span>
			}
<span class="nc" id="L398">			spinner.setOnItemSelectedListener(LISTENER);</span>
<span class="nc" id="L399">			this.mSpinner = spinner;</span>
		}
<span class="nc" id="L401">	}</span>

	/**
	 */
	@Override
	protected void onClick() {
<span class="nc" id="L407">		super.onClick();</span>
<span class="nc bnc" id="L408" title="All 2 branches missed.">		if (mSpinner != null) {</span>
<span class="nc" id="L409">			mSpinner.performClick();</span>
		}
<span class="nc" id="L411">	}</span>

	/**
	 */
	@Override
	protected void onPrepareForRemoval() {
<span class="nc" id="L417">		super.onPrepareForRemoval();</span>
<span class="nc" id="L418">		this.mSpinner = null;</span>
<span class="nc" id="L419">	}</span>

	/*
	 * Inner classes ===============================================================================
	 */

	/**
	 * A {@link SimpleSpinnerAdapter} implementation that is used to provide entry items for the
	 * {@link Spinner} widget of the parent spinner preference.
	 */
	private static final class EntriesAdapter extends SimpleSpinnerAdapter&lt;EntriesAdapter, EntryViewHolder, EntryDropDownViewHolder, CharSequence&gt; {

		/**
		 * Title text specified for this adapter to be displayed in the primary view.
		 */
		private CharSequence title;

		/**
		 * Layout resource of primary view inflated by this adapter in {@link #onCreateViewHolder(ViewGroup, int)}.
		 */
		private int viewLayoutResource;

		/**
		 * Layout resource of drop down view inflated by this adapter in {@link #onCreateDropDownViewHolder(ViewGroup, int)}.
		 */
		private int dropDownViewLayoutResource;

		/**
		 * Creates a new instance EntriesAdapter without initial entries.
		 *
		 * @see SimpleSpinnerAdapter#SimpleSpinnerAdapter(Context)
		 */
		private EntriesAdapter(@NonNull final Context context) {
<span class="nc" id="L452">			super(context);</span>
<span class="nc" id="L453">		}</span>

		/**
		 * Sets a title to be displayed in the primary view provided by this adapter.
		 *
		 * @param title The desired title text. May be {@code null} to clear the current one.
		 */
		void setTitle(@Nullable final CharSequence title) {
<span class="nc bnc" id="L461" title="All 2 branches missed.">			if (!TextUtils.equals(this.title, title)) {</span>
<span class="nc" id="L462">				this.title = title;</span>
<span class="nc" id="L463">				notifyDataSetChanged();</span>
			}
<span class="nc" id="L465">		}</span>

		/**
		 * Sets a layout resource for primary view provided by this adapter.
		 *
		 * @param layoutResource The desired layout resource.
		 */
		void setViewLayoutResource(@LayoutRes final int layoutResource) {
<span class="nc" id="L473">			this.viewLayoutResource = layoutResource;</span>
<span class="nc bnc" id="L474" title="All 2 branches missed.">			if (!isEmpty()) {</span>
<span class="nc" id="L475">				notifyDataSetChanged();</span>
			}
<span class="nc" id="L477">		}</span>

		/**
		 * Sets a layout resource for drop down views provided by this adapter.
		 *
		 * @param layoutResource The desired layout resource.
		 */
		void setDropDownViewLayoutResource(@LayoutRes final int layoutResource) {
<span class="nc" id="L485">			this.dropDownViewLayoutResource = layoutResource;</span>
<span class="nc bnc" id="L486" title="All 2 branches missed.">			if (!isEmpty()) {</span>
<span class="nc" id="L487">				notifyDataSetChanged();</span>
			}
<span class="nc" id="L489">		}</span>

		/**
		 */
		@NonNull
		@Override
		protected EntryViewHolder onCreateViewHolder(@NonNull final ViewGroup parent, final int viewType) {
<span class="nc" id="L496">			return new EntryViewHolder(inflateView(viewLayoutResource, parent));</span>
		}

		/**
		 */
		@NonNull
		@Override
		protected EntryDropDownViewHolder onCreateDropDownViewHolder(@NonNull final ViewGroup parent, final int viewType) {
<span class="nc" id="L504">			return new EntryDropDownViewHolder(inflateView(dropDownViewLayoutResource, parent));</span>
		}

		/**
		 */
		@Override
		protected void onBindViewHolder(@NonNull final EntryViewHolder holder, final int position) {
<span class="nc" id="L511">			holder.titleView.setText(title);</span>
<span class="nc" id="L512">			holder.summaryView.setText(getItem(position));</span>
<span class="nc" id="L513">		}</span>

		/**
		 */
		@Override
		protected void onBindDropDownViewHolder(@NonNull EntryDropDownViewHolder holder, int position) {
<span class="nc" id="L519">			holder.titleView.setText(getItem(position));</span>
<span class="nc" id="L520">		}</span>
	}

	/**
	 * A {@link ViewHolder} implementation used as holder for primary view of {@link EntriesAdapter}.
	 */
	private static final class EntryViewHolder extends ViewHolder {

		/**
		 * View displaying title text of the parent preference.
		 */
		final TextView titleView;

		/**
		 * View displaying summary text of the parent preference.
		 */
		final TextView summaryView;

		/**
		 * Creates a new instance of EntryViewHolder.
		 *
		 * @param itemView Instance of view to be hold by the holder.
		 */
		private EntryViewHolder(@NonNull final View itemView) {
<span class="nc" id="L544">			super(itemView);</span>
<span class="nc" id="L545">			this.titleView = (TextView) itemView.findViewById(android.R.id.title);</span>
<span class="nc" id="L546">			this.summaryView = (TextView) itemView.findViewById(android.R.id.summary);</span>
<span class="nc" id="L547">		}</span>
	}

	/**
	 * A {@link ViewHolder} implementation used as holder for drop down views of {@link EntriesAdapter}.
	 */
	private static final class EntryDropDownViewHolder extends ViewHolder {

		/**
		 * View displaying title text of a specific entry item.
		 */
		final TextView titleView;

		/**
		 * Creates a new instance of EntryDropDownViewHolder.
		 *
		 * @param itemView Instance of view to be hold by the holder.
		 */
		private EntryDropDownViewHolder(@NonNull final View itemView) {
<span class="nc" id="L566">			super(itemView);</span>
<span class="nc" id="L567">			this.titleView = (TextView) itemView.findViewById(android.R.id.title);</span>
<span class="nc" id="L568">		}</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span>Generated by the Android Gradle plugin 2.3.1</div></body></html>